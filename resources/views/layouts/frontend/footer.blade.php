<footer class="footer pt-50 pb-50">
  <div class="container-xl">
      <div class="row ">
          <div class="footer-text  d-flex">
              <div class="footer-col contact_box">
                  <h4 class="text-white">Contact Details</h4>
                  <ul class="mt-15">
                      <li class="contact_box_list gap-3 ">
                          <img src="{{ url('public/assets/frontend/imgs/page/homepage2/location.webp') }}"
                              alt="Location"  width="24" height="24">
                          <span>Business Hours : Open round the clock, 365 days a year</span>
                      </li>
                      <li class="contact_box_list gap-3 mt-3">
                          <img src="{{ url('public/assets/frontend/imgs/page/homepage2/call.webp') }}" alt="Call" width="24" height="24">
                          <!-- <span class="text-decoration-underline"> +44 208 900 1666, +44 208 902 8990, +44 208 900 1333</span> -->
                          <span class="footer_mobile">
                              <a href="tel:+44 208 900 1666">+44 208 900 1666</a>
                              <!-- <a href="tel:+44 208 900 1666">+44 208 900 1666</a> -->
                              <span class="footer-contect"><a href="tel:+44 208 900 1333">+44 208 900 1333</a></span>
                          </span>
                      </li>
                      <li class="contact_box_list gap-3 mt-3">
                          <img src="{{ url('public/assets/frontend/imgs/page/homepage2/captive_portal.webp') }}"
                              alt="Mail" width="24" height="24">
                          <span><a href="mailtto:webbookings@justairports.com">webbookings@justairports.com</a></span>
                      </li>
                  </ul>
              </div> 
              <div class="footer-col quick_details ">
                  <h4 class="text-white">Quick Details</h4> 
                  <ul class="row quick_box mt-15 w-100">
                      <!-- <li class="col-md-6 col-6 "> <a href="{{ route('frontend.booking_detail') }}">Accounts</a></li> -->
                      
                      <li class="col-md-6 col-6"><a href="{{ route('frontend.about') }}">About us</a></li>
                                                                                    <li class="col-md-6 col-6 "> <a href="{{ route('frontend.driver_vacancy') }}">Driver Vacancy</a></li>
                       <li class="col-md-6 col-6 "><a href="/Blog">Blogs</a></li>
                                                                                <li class="col-md-6 col-6 "><a href="{{ route('frontend.term_and_condition') }}">Terms & Conditions</a></li>
                      <li class="col-md-6 col-6 "><a href="{{route('frontend.php_page.tour')}}">Tours</a></li> 
                                                                                 <li class="col-md-6 col-6 "><a href="{{route('frontend.php_page.privacy')}}">Privacy Policy</a></li>
                    <li class="col-md-6 col-6 "><a href="{{route('frontend.php_page.prices')}}">Pricing</a></li>
                                                                                <li class="col-md-6 col-6 "><a href="{{ route('frontend.cookie_policy') }}">Cookie Policy</a></li>
                      <li class="col-md-6 col-6 "><a href="{{ route('frontend.online_booking') }}">Online Bookings</a></li>
                                                                                <li class="col-md-6 col-6 "><a href="{{ route('frontend.general_terms_for_drivers') }}">General Terms For Drivers</a></li>

                      <!-- <li class="col-md-6 col-6"><a  href="javascript:void(0)" onclick="testApi()">Accounts</a></li>-->

                  </ul>
              </div>
              <div class="footer-col card_img">
                  <div class="footer-icone d-flex gap-1">
                      <img src="{{ url('public/assets/frontend/imgs/page/homepage2/visa.webp') }}" alt="visa" width="24" height="24"/>
                      <img src="{{ url('public/assets/frontend/imgs/page/homepage2/mastercard.webp') }}"
                          alt="master card" width="24" height="24" />
                      <img src="{{ url('public/assets/frontend/imgs/page/homepage2/img3.webp') }}" alt="img" width="24" height="24" />
                  </div>
                  <p class="copyright_text mt-3">Copyright © justairports.com <br>
                      2024, All Rights Reserved</p>
              </div>
          </div>
      </div>
  </div> 
</footer>

<script src="{{ url('public/assets/frontend/js/international-telephone-input.js') }}"></script> 
<script src="{{ url('public/assets/frontend/js/vendors/modernizr-3.6.0.min.js') }}"></script>
<script src="{{ url('public/assets/frontend/js/vendors/jquery-3.6.0.min.js') }}"></script>
<script src="{{ url('public/assets/frontend/js/vendors/jquery-migrate-3.3.0.min.js') }}"></script>
<script src="{{ url('public/assets/frontend/js/vendors/bootstrap.bundle.min.js') }}"></script>
<script src="{{ url('public/assets/frontend/js/vendors/waypoints.js') }}"></script>
<script src="{{ url('public/assets/frontend/js/vendors/wow.js') }}"></script>
<script src="{{ url('public/assets/frontend/js/vendors/magnific-popup.js') }}"></script>
<script src="{{ url('public/assets/frontend/js/vendors/perfect-scrollbar.min.js') }}"></script>
<script src="{{ url('public/assets/frontend/js/vendors/select2.min.js') }}"></script>
<script src="{{ url('public/assets/frontend/js/vendors/isotope.js') }}"></script>
<script src="{{ url('public/assets/frontend/js/vendors/scrollup.js') }}"></script>
<script src="{{ url('public/assets/frontend/js/vendors/swiper-bundle.min.js') }}"></script>
<script src="{{ url('public/assets/frontend/js/vendors/noUISlider.js') }}"></script>
<script src="{{ url('public/assets/frontend/js/vendors/slider.js') }}"></script>
<!-- Count down-->
<script src="{{ url('public/assets/frontend/js/vendors/counterup.js') }}"></script>
<script src="{{ url('public/assets/frontend/js/vendors/jquery.countdown.min.js') }}"></script>
<!-- Count down-->
<script src="{{ url('public/assets/frontend/js/vendors/jquery.elevatezoom.js') }}"></script>
<script src="{{ url('public/assets/frontend/js/vendors/slick.js') }}"></script>
<script src="{{ url('public/assets/frontend/js/vendors/jquery-ui.js') }}"></script>
<script src="{{ url('public/assets/frontend/js/vendors/jquery.timepicker.min.js') }}"></script>
<script src="{{ url('public/assets/frontend/js/maine209.js?v=1.0.0') }}"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js" ></script>

 <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
{{-- ----------------------------------Sweet Alert-------------------------------- --}}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="{{ url('public/assets/frontend/js/autocomplete.js') }}"></script>

<!-- Send OTP to login (start) -->
<script>
  $(document).on('click', '#send_otp', async function() {
      {{-- const check_otp_url = "{{route('frontend.check_otp')}}";  --}}
      const send_login_otp_url = "{{ route('frontend.send_login_otp') }}";
      $("#login_email_error").html('');
      $("#login_phone_error").html('');
      let user_email = $("#login_email").val();
      let user_phone = $("#login_phone_number").val();
      let login_method = $('input[name="login_method"]:checked').val();
      if ($('input[name="login_method"]:checked').val() == 'email') {
          if (user_email == '') {
              $("#login_email_error").html('Email is Required !');
              return false;
          }
      } else {
          if (user_phone == '') {
              $("#login_phone_error").html('Phone Number is Required !');
              return false;
          }
      }

      try {
          $("#send_otp").text("Please Wait...").prop('disabled', true);
          let response = await fetch(`${send_login_otp_url}/?user_phone=${user_phone}&user_email=${user_email}&login_method=${login_method}`);
            let responseData = await response.json(); 
          if (responseData.status == 'not_exists' && responseData.message == 'phone_number_not_exists') {
              $("#login_phone_error").html("Phone number does not exists !");
              $("#send_otp").text("SEND OTP").prop('disabled', false);
              return false;
          } else if (responseData.status == 'not_exists' && responseData.message == 'email_not_exists') {
              $("#login_email_error").html("Email does not exists !");
              $("#send_otp").text("SEND OTP").prop('disabled', false);
              return false;
          } else if (responseData.status == 'not_exists' && responseData.message == 'client_not_registered') {
              $("#login_phone_error").html("You are not registered !");
              $("#send_otp").text("SEND OTP").prop('disabled', false);
              return false;
          } else if (responseData.status == 'otp_sent' && responseData.message == 'user_exists') {
              $("#send_otp").text("SEND OTP").prop('disabled', false);
              $("#otp_phone").val(responseData.phone)
              $("#otp_email").val(responseData.email)
              $('#login_page').hide();
              $("#otp_phone").val(user_phone);
              $('#otp_page').show();
          }
      } catch (error) {
          console.error('Error:', error);
      }
  });
</script>
<!-- Send OTP to login (end) -->

<!-- Submit OTP and Login (start) -->
<script>
  $(document).on('click', '#submit_otp_btn', async function() {
      let logout_html = '';
      const check_otp_url = "{{ route('frontend.submit_login_otp') }}";
      $("#otp_error").html('');
      const otp = $("#login_otp").val();
      const user_phone = $('#otp_phone').val();
      const user_email = $('#otp_email').val();

      if (otp == '') {
          $("#login_otp_error").html('Please enter OTP !');
          return false;
      }

      try {
           $("#submit_otp_btn").text("Please Wait...").prop('disabled', true);
          let checkOtpResponse = await fetch(
              `${check_otp_url}/?user_phone=${user_phone}&user_email=${user_email}&otp=${otp}`);
          let checkOtpResponseData = await checkOtpResponse.json();
          console.log(checkOtpResponseData);
          
          if (checkOtpResponseData.message == 'login_success') {
              {{--    let redirectUrl = "{{route('frontend.booking_detail')}}";  --}}
              logout_html = `<form method="POST" action="{{ route('logout_client') }}">
                        @csrf
                        <div class="d-flex  justify-content-center align-items-center">
                        <i class="fa fa-sign-out" aria-hidden="true"></i>
                        <input type="submit" class="nav-link" value="LOGOUT" style="border:none;background:transparent">
                        </div>
                  </form>`;
              $("#login_logout_btn").html(logout_html);
                let account_url = `<li><a href="{{ route('frontend.booking_detail') }}">BOOKING</a></li>`;
              $("#more_submenu").append(account_url);
              $('#otp_page').hide();
              $('.modal-backdrop').remove();
              $('body').removeClass('modal-open');
              $('body').css('padding-right', '0px');

              // $('body').css('overflow', 'auto');  
          } else if (checkOtpResponseData.message == 'incorrect_otp') {
              $("#login_otp_error").html('Incorrect OTP !');
              $("#submit_otp_btn").text("SUBMIT").prop('disabled', false);
              return false;
          }

      } catch (error) {
          console.error('Error:', error);
      }
  });
</script>
<!-- Submit OTP and Login (end) -->

<!-- Create New Account- Register send OTP (start) -->
<script>
  $(document).on('click', '#register_btn', async function() {
      const send_otp_and_reg_url = "{{ route('frontend.reg_acc_send_otp') }}";
      $("#reg_phone_number_error").html('');
      $("#reg_email_error").html('');
      $("#reg_name_error").html('');
      let user_name = $("#reg_user_name").val();
      let user_phone = $("#reg_user_phone").val();
      let user_email = $("#reg_user_email").val();
      if (user_name == '') {
          $("#reg_name_error").html('Name is Required !');
          return false;
      }
      if (user_phone == '') {
          $("#reg_phone_number_error").html('Phone Number is Required !');
          return false;
      }
      if (user_email == '') {
          $("#reg_email_error").html('Email is Required !');
          return false;
      } 
      try {
          $("#register_btn").text("Please Wait...").prop('disabled', true);
          let response = await fetch(
              `${send_otp_and_reg_url}/?user_name=${user_name}&user_phone=${user_phone}&user_email=${user_email}`
              );
          let responseData = await response.json(); 
          if (responseData.status == 'already_registered' && responseData.message == 'email_already_registered') {
            $("#reg_email_error").html("Email already registered !");  
            
              $("#register_btn").text("SEND OTP").prop('disabled', false);
              return false;
          } else if (responseData.status == 'already_registered' && responseData.message == 'phone_already_registered') {
            $("#reg_phone_number_error").html("Phone already registered !");
              $("#register_btn").text("SEND OTP").prop('disabled', false);
              return false;
          } else if (responseData.status == 'already_registered' && responseData.message == 'client_already_registered') {
              $("#reg_name_error").html("You are already registered please login !");
              $("#register_btn").text("SEND OTP").prop('disabled', false);
              return false;
          } else if (responseData.status == 'otp_sent' && responseData.message == 'user_created') {
              $("#register_btn").text("Please Wait...").prop('disabled', true);
              $("#otp_phone").val(responseData.phone)
              $("#otp_email").val(responseData.email)
              $('#register_page').hide();
              $("#otp_phone").val(user_phone);
              $('#otp_page').show();
          }
      } catch (error) {
          console.error('Error:', error);
      }


  });
</script>
<!-- Create New Account- Register send OTP (end) -->

<script>
  function handleResize() {
      var screenWidth = window.innerWidth;
      var topNav = document.querySelector(".topnav");
      if (screenWidth < 992) {
          topNav.style.display = "none";
      } else {
          topNav.style.display = "";
      }
  }
  handleResize();
  window.addEventListener("resize", handleResize);

  function handleNav() {
      var topNav = document.querySelector(".topnav");
      var computedStyles = window.getComputedStyle(topNav);
      if (computedStyles.display == "flex") {
          topNav.style.display = "none";
      } else {
          topNav.style.display = "flex";
      }
  }
</script>

<script>
  window.onscroll = function() {
      scrollFunction();
  };

  function scrollFunction() {
      var navbar = document.getElementById("mainNavbar");
      if(
          document.body.scrollTop > 80 ||
          document.documentElement.scrollTop > 80
      ){
          navbar.classList.add("fixed-top");
      }else{
          navbar.classList.remove("fixed-top");
      }
  }
</script>

<script>
  $(document).ready(function() {
      $('#location_select').select2();
      $('#airport_select').select2();
      $('#drop_select').select2();
      $('#drop_airport_select').select2();
  });
</script>

<script>
  $(document).ready(function() {
      document.getElementById("login_modal").addEventListener("click", function() {
          $('#loginModal').modal('show');
      });
      document.getElementById("signup_btn").addEventListener("click", function() {
          $('#login_page').hide();
          $('#otp_page').hide();
          $('#register_page').show();
      });
      document.getElementById("otp_signup_btn").addEventListener("click", function() {
          $('#login_page').hide();
          $('#otp_page').show();
          $('#register_page').hide();
      });
      document.getElementById("back_btn").addEventListener("click", function() {
          $('#login_page').show();
          $('#otp_page').hide();
          $('#register_page').hide();
      });

      function validateInput(input) {
          if (input.value.length > 10) {
              input.value = input.value.slice(0, 10);
          }
      }
  });
</script>

<script>
  function validateInput(input) {
      input.value = input.value.replace(/\D/g, '');
      if (input.value.length > 15) {
          input.value = input.value.slice(0, 15);
      }
  }
</script>

<script>
  document.addEventListener("DOMContentLoaded", function(event) {
      $("#phoneInputGroup").hide();
  });
  document.querySelectorAll('input[name="login_method"]').forEach((radio) => {
      radio.addEventListener('change', function() {
          if (this.value === 'email') {
              $("#emailInputGroup").show();
              $("#phoneInputGroup").hide();
          } else if (this.value === 'phone'){
              $("#emailInputGroup").hide();
              $("#phoneInputGroup").show();
          }
      });
  });
</script>


<!--- sign up & login country code script  start--->
<script>
    function countrycodefunction(selector)
    {
        const countryCodeInput = document.querySelector(selector);
        const iti_code = intlTelInput(countryCodeInput, {
            initialCountry: "auto",
            separateDialCode: true,
            geoIpLookup: function (callback)
            {
                fetch('https://ipinfo.io/json')
                    .then(response => response.json())
                    .then(data => callback(data.country))
                    .catch(() => callback('us'));
            },
            utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js"
        });
        countryCodeInput.addEventListener('countrychange', function ()
        {
            const countryCode = iti_code.getSelectedCountryData().dialCode;
            console.log(countryCode);
        });
    }
    countrycodefunction("#signup_country_code");
    countrycodefunction("#login_country_code");
</script>

@yield('javascript-section')
</body>


</html>
